# NEW2 대시보드 테스트 데이터 사용 가이드

## 📊 생성된 테스트 데이터 개요

이 문서는 `generate_test_dashboard_data.py`로 생성된 테스트 데이터를 사용하여 NEW2 대시보드를 테스트하는 방법을 설명합니다.

### 🗂️ 생성된 파일 구조

```
/mnt/c/earthquake_project/influxLogs/
├── base/               # 원시 센서 데이터 (17개 파일)
│   ├── event_6060_2025-06-30_16-45-55.csv
│   ├── event_7001_2025-06-29_16-45-55.csv
│   └── ...
├── new2_analysis/      # NEW2 AI 분석 결과 (17개 파일)
│   ├── new2_ai_6060_2025-06-30_16-45-55.csv
│   ├── new2_ai_7001_2025-06-29_16-45-55.csv
│   └── ...
└── alerts/             # 지진 경보 (4개 파일)
    ├── earthquake_alert_6060_2025-06-30_16-45-55.json
    ├── earthquake_alert_7001_2025-06-29_16-45-55.json
    └── ...
```

### 📋 테스트 시나리오

생성된 데이터는 다음과 같은 다양한 시나리오를 포함합니다:

#### 🔴 지진 이벤트 (6개)
- 높은 신뢰도의 지진 분류 결과
- P파/S파 패턴을 모방한 센서 데이터
- 자동 생성된 지진 경보 (신뢰도 85% 이상)

#### 🟠 규칙적 산업진동 (5개)
- 주기적인 진동 패턴
- 일부는 전문가 수정 적용됨
- 10-50Hz 주파수 범위의 규칙적 패턴

#### 🟢 불규칙 생활진동 (6개)
- 산발적인 충격 이벤트
- 일상 생활에서 발생하는 불규칙한 진동 패턴
- 낮은 진폭의 무작위 노이즈

#### 👨‍💼 전문가 수정 사례 (2개)
- AI가 오분류한 경우를 시뮬레이션
- 전문가가 올바른 클래스로 수정한 기록
- 재학습 시스템 테스트용 데이터

## 🚀 대시보드 실행 방법

### 1. 데이터 검증
```bash
# 생성된 테스트 데이터가 올바른지 검증
python3 test_dashboard_data.py
```

### 2. 대시보드 실행
```bash
# NEW2 대시보드 시작
streamlit run new2_streamlit_dashboard.py
```

### 3. 웹 브라우저 접속
- URL: http://localhost:8501
- 또는 터미널에 표시되는 Local URL 사용

## 🧪 테스트 할 수 있는 기능들

### 📊 실시간 모니터링
- [x] 최신 이벤트 목록 표시
- [x] 클래스별 통계 (지진/산업진동/생활진동)
- [x] 시간대별 이벤트 분포
- [x] 자동 새로고침 기능

### 📈 데이터 시각화
- [x] 센서 데이터 시계열 그래프
- [x] 3축 가속도 데이터 (X, Y, Z)
- [x] AI 신뢰도 시각화
- [x] 클래스별 분포 차트

### 🔍 이벤트 분석
- [x] 개별 이벤트 상세 정보
- [x] AI 분석 결과 확인
- [x] 전문가 수정 내역 표시
- [x] 신뢰도 및 클래스 정보

### 👨‍💼 전문가 수정 기능
- [x] AI 분류 결과 수정
- [x] 수정 내역 저장
- [x] 재학습용 데이터 생성

### 🚨 경보 시스템
- [x] 지진 경보 목록
- [x] 경보 심각도 표시
- [x] 예상 규모 정보
- [x] 포트별 경보 현황

### 📁 파일 관리
- [x] 이벤트 파일 삭제
- [x] 데이터 내보내기
- [x] 파일 상태 확인

## 📊 예상 결과

대시보드에서 다음과 같은 데이터를 확인할 수 있습니다:

### 시스템 통계
- **총 이벤트**: 17개
- **🔴 지진**: 6개
- **🟠 규칙적 산업진동**: 5개  
- **🟢 불규칙 생활진동**: 6개
- **🚨 지진 경보**: 4개

### 최근 이벤트
- 시간순으로 정렬된 이벤트 목록
- 각 이벤트의 AI 분석 결과
- 전문가 수정 여부 표시

### 지진 경보
- 포트 6060, 7001, 8010에서 발생한 경보
- 높은 신뢰도 (90% 이상)
- 심각도 HIGH 분류

## 🛠️ 문제 해결

### 데이터가 표시되지 않는 경우
1. `test_dashboard_data.py` 실행하여 데이터 무결성 확인
2. 파일 권한 확인
3. 경로 설정 확인 (`new2_streamlit_dashboard.py`의 CONFIG 섹션)

### 모델 로딩 오류
- 테스트 환경에서는 모델 없이도 데이터 확인 가능
- 실제 분석 기능은 모델 파일이 필요

### 브라우저 접속 문제
- 방화벽 설정 확인
- 다른 포트 사용: `streamlit run new2_streamlit_dashboard.py --server.port 8502`

## 📝 추가 데이터 생성

더 많은 테스트 데이터가 필요한 경우:

```bash
# 추가 테스트 데이터 생성
python3 generate_test_dashboard_data.py
```

- 기존 데이터는 자동으로 삭제되고 새로운 데이터로 교체됩니다
- 다른 시나리오나 데이터 패턴이 필요한 경우 스크립트를 수정하여 사용하세요

## ✅ 체크리스트

대시보드 테스트 시 다음 항목들을 확인해보세요:

- [ ] 메인 페이지 로딩
- [ ] 사이드바 통계 표시
- [ ] 이벤트 목록 표시
- [ ] 개별 이벤트 클릭 시 상세 정보 표시
- [ ] 센서 데이터 그래프 렌더링
- [ ] AI 신뢰도 시각화
- [ ] 지진 경보 목록 표시
- [ ] 전문가 수정 기능 (수정 적용 및 저장)
- [ ] 파일 삭제 기능
- [ ] 자동 새로고침 기능

---

**참고**: 이 테스트 데이터는 실제 지진 데이터가 아닌 시뮬레이션된 데이터입니다. 실제 운영 환경에서는 실시간 센서 데이터와 훈련된 AI 모델을 사용하시기 바랍니다.